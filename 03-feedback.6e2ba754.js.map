{"mappings":"iiBAAA,IAOeA,EAPfC,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,QAC9BC,EAAQF,SAASC,cAAc,SAC/BE,EAAUH,SAASC,cAAc,YACjCG,EAAU,sBAEZC,EAAuB,QAAZT,EAAAU,WAAY,IAAZV,EAAAA,EAAgB,GAU/B,SAASU,IACP,IAAMC,EAAkBC,aAAaC,QAAQL,IAAY,GACzD,GAAIG,EAAiB,CACnB,IAAMG,EAAoBC,KAAKC,MAAML,GACrCL,EAAMW,MAAQH,EAAkBI,MAChCX,EAAQU,MAAQH,EAAkBK,QAEpC,MAAO,CACLD,MAAOZ,EAAMW,MACbE,QAASZ,EAAQU,OAlBrBP,IACAP,EAAKiB,iBAAiB,UAqBtB,SAAmBC,GACjBA,EAAEC,iBACF,IAA2BC,EAAAF,EAAEG,cAAcC,SAAnCP,EAAmBK,EAAnBL,MAAOC,EAAYI,EAAZJ,QAEf,GAAoB,KAAhBD,EAAMD,OAAkC,KAAlBE,EAAQF,MAChC,OAAOS,MAAM,6BAEfC,QAAQC,IAAInB,GACZG,aAAaiB,WAAWrB,GACxBL,EAAK2B,WA7BP3B,EAAKiB,iBAAiB,QAASW,EAAA9B,EAAA,EAE/B,SAAmBoB,GACjBZ,EAASY,EAAEW,OAAOC,MAAQZ,EAAEW,OAAOf,MACnCL,aAAasB,QAAQ1B,EAASO,KAAKoB,UAAU1B,MAJI","sources":["src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\nconst formKey = 'feedback-form-state';\n\nlet formData = rebootForm() ?? {};\nrebootForm();\nform.addEventListener('submit', cleanForm);\nform.addEventListener('input', throttle(saveValue, 500));\n\nfunction saveValue(e) {\n  formData[e.target.name] = e.target.value;\n  localStorage.setItem(formKey, JSON.stringify(formData));\n}\n\nfunction rebootForm() {\n  const formTextContent = localStorage.getItem(formKey) || '';\n  if (formTextContent) {\n    const parsedTextContent = JSON.parse(formTextContent);\n    email.value = parsedTextContent.email;\n    message.value = parsedTextContent.message;\n  }\n  return {\n    email: email.value,\n    message: message.value,\n  };\n}\n\nfunction cleanForm(e) {\n  e.preventDefault();\n  const { email, message } = e.currentTarget.elements;\n\n  if (email.value === '' || message.value === '') {\n    return alert('Please fill out the form!');\n  }\n  console.log(formData);\n  localStorage.removeItem(formKey);\n  form.reset();\n}\n"],"names":["ref","$dCfNN","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$email","$b00c40859be242c5$var$message","$b00c40859be242c5$var$formKey","$b00c40859be242c5$var$formData","$b00c40859be242c5$var$rebootForm","formTextContent","localStorage","getItem","parsedTextContent","JSON","parse","value","email","message","addEventListener","e","preventDefault","_elements","currentTarget","elements","alert","console","log","removeItem","reset","$parcel$interopDefault","target","name","setItem","stringify"],"version":3,"file":"03-feedback.6e2ba754.js.map"}